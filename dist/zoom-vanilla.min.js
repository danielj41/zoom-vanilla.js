+function(){"use strict";function t(t){var e=t.getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,o=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return{top:e.top+n,left:e.left+o}}var e=80,n=function(){function n(){l=m.getAttribute("data-original-width"),d=m.getAttribute("data-original-height"),o(),v=document.createElement("img"),v.onload=function(){m.setAttribute("sizes",m.getAttribute("data-original-sizes")),m.setAttribute("srcset",m.getAttribute("data-original-srcset")),m.src=m.getAttribute("data-original")},v.setAttribute("sizes",m.getAttribute("data-original-sizes")),v.setAttribute("srcset",m.getAttribute("data-original-srcset")),v.src=m.getAttribute("data-original")}function o(){f=document.createElement("div"),f.className="zoom-img-wrap",f.style.position="absolute",f.style.top=t(m).top+"px",f.style.left=t(m).left+"px",g=m.cloneNode(),m.style.width=m.offsetWidth+"px",m.parentNode.replaceChild(g,m),setTimeout(function(){g.style.visibility="hidden",document.body.appendChild(f),f.appendChild(m),m.classList.add("zoom-img"),m.setAttribute("data-action","zoom-out"),c=document.createElement("div"),c.className="zoom-overlay",document.body.appendChild(c),i(),r()},0)}function i(){m.offsetWidth;var t=l,n=d,o=t/m.width,i=window.innerHeight-e,r=window.innerWidth-e,s=t/n,a=r/i;u=t<r&&n<i?o:s<a?i/n*o:r/t*o}function r(){m.offsetWidth;var e=t(m),n=window.pageYOffset,o=n+window.innerHeight/2,i=window.innerWidth/2,r=e.top+m.height/2,s=e.left+m.width/2,a=Math.round(o-r),d=Math.round(i-s),l="scale("+u+")",c="translate("+d+"px, "+a+"px) translateZ(0)";m.style.webkitTransform=l,m.style.msTransform=l,m.style.transform=l,f.style.webkitTransform=c,f.style.msTransform=c,f.style.transform=c,document.body.classList.add("zoom-overlay-open")}function s(){if(v.onload=function(){},document.body.classList.remove("zoom-overlay-open"),document.body.classList.add("zoom-overlay-transitioning"),m.style.webkitTransform="",m.style.msTransform="",m.style.transform="",f.style.webkitTransform="",f.style.msTransform="",f.style.transform="",!1 in document.body.style)return a();m.addEventListener("transitionend",a),m.addEventListener("webkitTransitionEnd",a)}function a(){m.removeEventListener("transitionend",a),m.removeEventListener("webkitTransitionEnd",a),f&&f.parentNode&&(m.classList.remove("zoom-img"),m.style.width="",m.setAttribute("data-action","zoom"),g.style.visibility="visible",m.parentNode.removeChild(m),f.parentNode.removeChild(f),c.parentNode.removeChild(c),document.body.classList.remove("zoom-overlay-transitioning"),m=g)}var d=null,l=null,c=null,u=null,m=null,f=null,g=null,v=null;return function(t){return m=t,{zoomImage:n,close:s,dispose:a}}}();(function(){function t(){document.body.addEventListener("click",function(t){"zoom"===t.target.getAttribute("data-action")&&"IMG"===t.target.tagName&&o(t)})}function o(t){if(t.stopPropagation(),!(document.body.classList.contains("zoom-overlay-open")||t.target.width>=window.innerWidth-e)){if(t.metaKey||t.ctrlKey)return i();r({forceDispose:!0}),f=n(t.target),f.zoomImage(),s()}}function i(){window.open(event.target.getAttribute("data-original")||event.target.currentSrc||event.target.src,"_blank")}function r(t){t=t||{forceDispose:!1},f&&(f[t.forceDispose?"dispose":"close"](),a(),f=null)}function s(){window.addEventListener("scroll",d),document.addEventListener("click",c),document.addEventListener("keyup",l),document.addEventListener("touchstart",u)}function a(){window.removeEventListener("scroll",d),document.removeEventListener("keyup",l),document.removeEventListener("click",c),document.removeEventListener("touchstart",u)}function d(t){null===g&&(g=window.pageYOffset);var e=g-window.pageYOffset;Math.abs(e)>=40&&r()}function l(t){27==t.keyCode&&r()}function c(t){t.stopPropagation(),t.preventDefault(),r()}function u(t){v=t.touches[0].pageY,t.target.addEventListener("touchmove",m)}function m(t){Math.abs(t.touches[0].pageY-v)<=10||(r(),t.target.removeEventListener("touchmove",m))}var f=null,g=null,v=null;return{listen:t}})().listen()}();
//# sourceMappingURL=/dist/zoom-vanilla.min.js.map
